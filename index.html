<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SABRINA AI</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; padding: 20px; }
        #chat { border: 1px solid #0f0; height: 300px; overflow-y: scroll; padding: 10px; margin-bottom: 10px; }
        .msg { margin-bottom: 10px; }
        .user { color: #fff; }
        .ai { color: #0f0; font-weight: bold; }
        input { background: #000; border: 1px solid #0f0; color: #0f0; width: 70%; padding: 10px; }
        button { background: #0f0; color: #000; border: none; padding: 10px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

    <h3>SABRINA NEURAL LINK</h3>
    <div id="chat">
        <div class="msg ai">SABRINA: System online. Waiting for logic input.</div>
    </div>

    <input type="text" id="userInput" placeholder="Ask 2+2...">
    <button onclick="ask()">EXECUTE</button>

    <script>
        const KEY = "AIzaSyDMsEWb684y0FzptAJ8vT5HMxlahV2hWNg";
        // The most compatible URL for your key
        const URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent";

        async function ask() {
            const input = document.getElementById('userInput');
            const chat = document.getElementById('chat');
            const val = input.value;
            if(!val) return;

            chat.innerHTML += `<div class="msg user">YOU: ${val}</div>`;
            input.value = "";

            try {
                const res = await fetch(`${URL}?key=${KEY}`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ contents: [{ parts: [{ text: val }] }] })
                });

                const data = await res.json();
                
                if(data.candidates) {
                    const reply = data.candidates[0].content.parts[0].text;
                    chat.innerHTML += `<div class="msg ai">SABRINA: ${reply}</div>`;
                } else {
                    chat.innerHTML += `<div class="msg" style="color:red">ERROR: ${data.error.message}</div>`;
                }
            } catch (e) {
                chat.innerHTML += `<div class="msg" style="color:red">CONNECTION FAILED</div>`;
            }
            chat.scrollTop = chat.scrollHeight;
        }
    </script>
</body>
</html>
