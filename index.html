<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SABRINA_LOGIC_CORE</title>
    <style>
        body { background-color: #0a0a0a; color: #00ff99; font-family: 'Courier New', monospace; display: flex; flex-direction: column; align-items: center; height: 100vh; margin: 0; }
        #terminal { width: 95%; max-width: 600px; height: 75vh; border: 1px solid #00ff99; margin-top: 20px; overflow-y: auto; padding: 15px; background: rgba(0, 20, 0, 0.9); box-shadow: 0 0 15px #00ff99; }
        .system-msg { color: #00ff99; margin-bottom: 10px; white-space: pre-wrap; }
        .user-msg { color: #ffffff; margin: 10px 0; border-left: 2px solid #ffffff; padding-left: 10px; }
        .error-msg { color: #ff3333; font-weight: bold; margin: 10px 0; }
        #input-area { width: 95%; max-width: 600px; display: flex; margin-top: 10px; gap: 5px; }
        input { flex: 1; background: #000; border: 1px solid #00ff99; color: #00ff99; padding: 12px; font-family: inherit; }
        button { background: #00ff99; color: #000; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; }
        button:disabled { background: #005533; cursor: not-allowed; }
        #status { font-size: 0.8em; margin-top: 8px; color: #00ccff; }
    </style>
</head>
<body>

    <h2 style="color: #00ff99; text-shadow: 0 0 10px #00ff99;">SABRINA_LOGIC_CORE</h2>
    
    <div id="terminal">
        <div class="system-msg">SYSTEM: Neural Link established. Sabrina is online.</div>
    </div>

    <div id="input-area">
        <input type="text" id="userInput" placeholder="Type a message..." autocomplete="off">
        <button id="execBtn">EXECUTE</button>
    </div>
    <div id="status">STATUS: Ready</div>

    <script>
        // API Key applied from your provided credentials
        const API_KEY = 'AIzaSyAeGMTs1PF4ccwHNWxewlMjbhF5z_fkgaA'; 

        const terminal = document.getElementById('terminal');
        const userInput = document.getElementById('userInput');
        const execBtn = document.getElementById('execBtn');
        const statusDisplay = document.getElementById('status');

        async function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            appendMessage('YOU: ' + text, 'user-msg');
            userInput.value = '';
            
            lockUI(true);

            try {
                statusDisplay.innerText = "STATUS: Sabrina is processing...";
                
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: text }] }] })
                });

                const data = await response.json();

                if (data.error) {
                    appendMessage('SYSTEM ERROR: ' + data.error.message, 'error-msg');
                } else {
                    const reply = data.candidates[0].content.parts[0].text;
                    appendMessage('SABRINA: ' + reply, 'system-msg');
                }
            } catch (err) {
                appendMessage('SYSTEM ERROR: Connection timeout.', 'error-msg');
            } finally {
                startCooldown();
            }
        }

        function appendMessage(msg, className) {
            const div = document.createElement('div');
            div.className = className;
            div.innerText = msg;
            terminal.appendChild(div);
            terminal.scrollTop = terminal.scrollHeight;
        }

        function lockUI(locked) {
            execBtn.disabled = locked;
            userInput.disabled = locked;
        }

        function startCooldown() {
            let seconds = 5; 
            const timer = setInterval(() => {
                statusDisplay.innerText = `STATUS: Cooling down (${seconds}s)...`;
                seconds--;
                if (seconds < 0) {
                    clearInterval(timer);
                    statusDisplay.innerText = "STATUS: Ready";
                    lockUI(false);
                }
            }, 1000);
        }

        execBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !execBtn.disabled) sendMessage();
        });
    </script>
</body>
</html>
